<!-- Performance optimizations -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

<!-- Cache control -->
<meta http-equiv="Cache-Control" content="max-age=2592000, public">

<!-- Security headers -->
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https://www.google-analytics.com; connect-src 'self' https://www.google-analytics.com; object-src 'none';">
<meta http-equiv="X-Content-Type-Options" content="nosniff">
<meta http-equiv="X-XSS-Protection" content="1; mode=block">
<meta name="referrer" content="no-referrer-when-downgrade">

<!-- Additional SEO -->
<meta name="theme-color" content="#2563eb">
<link rel="canonical" href="{{ .Permalink }}">

<!-- PWA support -->
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="{{ .Site.Title }}">
<link rel="apple-touch-startup-image" href="{{ "images/splash.webp" | relURL }}">

<!-- Preload critical CSS -->
<style>
/* Critical CSS for fast rendering */
:root {
    --color-primary: #2563eb;
    --color-dark: #111827;
    --color-white: #ffffff;
    --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;
}

body {
    font-family: var(--font-sans);
    line-height: 1.6;
    color: var(--color-dark);
    background-color: var(--color-white);
    margin: 0;
    padding: 0;
}
</style>

<!-- Intersection Observer polyfill for older browsers -->
<script>
    if (!('IntersectionObserver' in window)) {
        document.write('<script src="{{ "js/intersection-observer.min.js" | relURL }}"><\/script>');
    }
</script>

<!-- Structured data for events and person -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "{{ .Site.Title }}",
    "url": "{{ .Site.BaseURL }}",
    "description": "{{ .Site.Params.description }}",
    "potentialAction": {
        "@type": "SearchAction",
        "target": "{{ .Site.BaseURL }}search?q={search_term_string}",
        "query-input": "required name=search_term_string"
    }
}
</script> 